## 总线的基本概念

计算机各个部件之间的两种连接方式：

- **分散链接**: 各个部件之间使用单独的连线
- **总线连接**:将各个部件连到一组公共信息传输线上

早期的计算机大多采用分散连接的方式，是**以运算器为中心**的结构，由于运算器本身的运算效率和所接受的带宽不匹配，导致很容易因为IO过多而停摆

*总线是连接多个部件的信息传输，是各个部件共享的传输介质。在某一时刻，只允许有一个部件向总线发送信息，而多个部件可以同时从总线上接收相同的信息*

### 采用总线连接的计算机架构

采用总线连接的计算机架构一般是以CPU为中心的双总线结构：

- 其中一组总线连接CPU和主存，称为**存储总线**(M总线)
- 另一组用来建立CPU和各I/O设备之间交换信息的通道，称为**输入输出总线**

#### 双总线的优势:

当I/O设备与主存之间交换信息时，原则上不影响CPU的工作，CPU仍可以继续处理不访问主存或者I/O设备的操作

### CPU总线的分类

#### 片内总线

片内总线是指芯片内部的总线

例子：在CPU芯片内部、寄存器与寄存器之间、寄存器与算逻辑单元ALU之间的总线

### 系统总线

系统总线是指CPU、主存、I/O设备各大部件之间的信息传输线。又称为**板级总线**或者**板间总线**

按系统总线传输信息的不同，又可以分为三类：

- **数据总线**
  数据总线用来传*输各个功能部件之间的数据信息*，它是**双向传输总线**，其*位数*与**机器字长、存储字长**有关。*数据总线的位数称为总线宽度。*
- **地址总线**
  地址总线主要用来指出数据总线上的元数据或目的数据在主存单元的地址或I/O地址。单向传输总线。地址线的位数与存储单元的个数有关。(地址线为20根，对应的存储单位个数为$2^{20}$)
- **控制总线**
  控制总线是用来发出各种控制信号的传输线。但是控制总线总体来说，可以认为是双向的。
  **常见控制信号：**
 | 控制     | 作用                                           |
 | -------- | ---------------------------------------------- |
  | 时钟     | 用来同步各种操作                               |
  | 复位     | 初始化所有操作                                 |
  | 总线请求 | 表示某个部件需要获得总线使用权                 |
  | 总线允许 | 表示需要获得                                   |
  | 中断请求 | 表示某个部件提出中断请求                       |
  | 中断响应 | 表示某个中断请求已被接收                       |
  | 存储读写 | 将数据总线上的数据写至存储器的指定地质单元     |
  | 存储器读 | 将指定存储单元中的数据读到数据总线上           |
  | I/O读    | 从指定的I/O端口将数据输出到指定的I/O端口内     |
  | I/O写    | 将数据总线上的数据输出到指定I/O端口内          |
  | 传输相应 | 表示数据已被接收，或者已经将数据送至数据总线上 |

### 通信总线

通信总线用于计算机系统环境之间或计算机与其它系统之间的通信。

串行通信是指数据在单条1位宽上的传输线上，一位一位地按顺序分时传送。

并行通信是指数据在多条并行1位宽的传输线上，同时由源传输到
