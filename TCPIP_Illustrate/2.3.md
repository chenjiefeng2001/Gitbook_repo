# 基本的IP地址结构

对于每个设备来说，每个单播的IP对应了每台设备。z地址中的一些立案续位称为**网络号**，其余位称为**主机号**。

> 最初的IPv4一共分为五大类，A、B、C类用于Internet(单播地址)中的接口分配地址以及其他一些特殊情况下使用。分类的情况如下：
>
> - A类：[0+网络号(7位自由)]+主机(24位)
> - B类：[10+网络号(14位自由)]+主机号(16位)
> - C类：[110+网络号(21位自由)]+主机号(8位)
> - D类：[1110]+组播地址(32位，28自由)
> - E类：[1111]+保留

### 子网寻址

在一个站点接入Internet之后为其分配一个网络号，然后由站点管理员进一步划分本地的子网数。在不改变核心路由基础设施的情况下拓展局域网

### 子网掩码

子网掩码是一台主机或者路由器使用的分配位，以确定如何从一台主机对应IP地址中获得网络或子网信息。

- 子网掩码和子网IP地址长度应该相同
- 子网掩码可以是静态的，也可以是动态的、

子网掩码中的一位设置为1表示一个IP地址的对应位与一个地址的网络/子网部分对应位相结合，并将结果作为转发数据报的基础。相反，子网掩码中的一位设置为0，意味着一个IP地址的对应位作为主机ID的一部分。

### 可变长度子网掩码(VLSM)

工作原理：VLSM将不同的IP地址按照子网掩码做分割，同时在一个子网中存在

### 广播地址

在每个IPv4地址中，有一个特殊的地址作为子网的广播地址。**子网通过设置广播地址的部分设置成适当的值，然后其余位设置为1。**

*除了广播地址，特殊用途地址 `255.255.255.255` 被保留作为本地网络广播(也被称之为有线广播)，它根本不会被路由器转发。[^2]*

注意，虽然路由器可能不转发广播，但是子网广播和连接在同一网络中的计算机的本地网络广播将工作，除非被终端主机明确禁用。该广播不需要路由器

### IPv6地址和接口标识符

IPv6使用一些特殊前缀表示一个地址范围。[^1]

链路本地IPv6地址使用接口标识符(IID)作为一个单播IPv6地址的分配基础。除了地址是以000开头之外，IID在所有的情况下都是作为一个IPv6地址的低序位，这样保证了在同一网络中有唯一的前缀

IID通常位为64位，并直接由一个网络接口相关的链路层MAC地址形成，该地址使用修改的EUI-64位格式或者由其他进程随即提供的值形成，以提供可防范地址跟踪的某种程度的隐私保护

#### EUI-64

EUI-64是

[^2]: 2.5.md
    
[^1]: 这里的范围通常指它的网络规模，通常包括*节点本地，链路本地或者全球性。*
