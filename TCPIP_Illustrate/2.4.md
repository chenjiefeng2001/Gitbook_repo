# 2.4 CIDR和聚合

### 问题：

1. 地址消耗太快
2. 地址规模太小
3. 会影响到路由器的性能影响

### 前缀

为了帮助缓解IPv4地址的压力，分类寻址方案通常使用一个类似VLSM的方案，扩展Internet路由系统以支持*无类别域间路由*(CIDR)。在这种分类寻址方式中包含多余255台主机但是少于65536台主机。

**作用：**未经过预定义的任何地址范围可做为一个类的一部分，但需要一个类似于子网掩码的掩码(这里的掩码也成为CIDR掩码)

**网络前缀:** *网络号+CIDR掩码*

消除一个IP地址中网络和主机号的预定义分隔，将使得更细粒度的IP地址分配范围成为可能。

目前，这些分组普遍使用地址空间的前缀表示。一个n位的前缀是一个地址的前n个位的预定义值。对于IPv4，n(前缀长度)的值通常在范围0\~32；对于IPv6，通常在范围0\~128。它通常被追加到基本IP地址，并且后面跟着一个/字符。

|        前缀        | 前缀(二进制)                                                                                                                                              |             地址范围             |
| :----------------: | --------------------------------------------------------------------------------------------------------------------------------------------------------- | :-------------------------------: |
|     0.0.0.0/0     | 00000000 00000000 00000000 00000000                                                                                                                    |     0.0.0.0 ~ 255.255.255.255     |
|    128.0.0.0/1    | 10000000 00000000 00000000 00000000                                                                                                                    |    128.0.0.0 ~ 255/255.255.255    |
|    128.0.0.0/24    | 10000000 00000000 00000000 00000000                                                                                                                    |      128.0.0.0 ~ 1280.0.255      |
| 198.128.128.192/27 | 11000110 10000000 10000000 11000000                                                                                                                       | 198.128.128.192 ~ 198.128.128.223 |
|   2001:db8::/32   | 0010000000000001 0000110110111000<br />0000000000000000 0000000000000000<br />0000000000000000 0000000000000000<br />0000000000000000 0000000000000000 |  2001:db8:: ~ 2001:db8:ffff:ffff  |

### 聚合

解决以下的问题：在维护Internet中到所有目的地的最短路径的同时，又能显著减少路由表格目数。
